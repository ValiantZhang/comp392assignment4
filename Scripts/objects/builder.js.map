{"version":3,"sources":["objects/builder.ts"],"names":[],"mappings":"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","file":"objects/builder.js","sourcesContent":["/**\n * The Builder module is a namespace to reference simplified creation methods\n * \n * @module builder\n */\nmodule builder {\n    /**\n     * The creator\n     * \n     * @class Play\n     * @param havePointerLock {boolean}\n     */\n    export class Creator{\n         // PUBLIC INSTANCE VARIABLES ++++++++++++\n     \n        // CONSTRUCTOR ++++++++++++++++++++++++++    \n        constructor() {\n         \n        }\n\n        // PUBLIC METHODS\n         /**\n         * Add the cube type 0 - standard, 1 - golden\n         * \n         * @method createCube\n         * @return void\n         */\n        public createCube(posX: number, posY:number, posZ:number, \n                          type:number, attachTo: THREE.Object3D, size:number = 1): void {\n            var cubeGeometry  = new BoxGeometry(size, size, size);\n            var cubeName: string = \"\";\n            var basicCubeMaterial:LambertMaterial;\n            //standard\n            if(type==0){\n                basicCubeMaterial = new LambertMaterial({color:0xFFFFFF});\n                cubeName=\"standard\";\n            }\n            //golden\n            if(type==1) {\n                basicCubeMaterial = new LambertMaterial({color:0xFFD81C});\n                cubeName=\"golden\";\n            }  \n            var cubePhysMaterial = Physijs.createMaterial(basicCubeMaterial, 0.8, 0.1);\n\n            var myCube = new Physijs.BoxMesh(cubeGeometry, cubePhysMaterial, 50);\n            myCube.position.set(posX, posY, posZ);\n            myCube.name = cubeName;\n            attachTo.add(myCube);\n        }\n        \n        /**\n         * Add a cubetangle object W/H/D in cubes\n         * \n         * @method createCubetangle\n         * @return void\n         */\n        public createCubetangle(widthX:number, heightY:number, depthZ:number, origin:Vector3, attachTo: THREE.Object3D){\n            \n            // Set up offsets to correctly place cubes\n            var startX = (widthX / 2) * -1 + origin.x;\n            var startY = 0.5 + origin.y;\n            var startZ = (depthZ / 2) * -1 + origin.z;\n             \n            // Loop through and create cubetangle with specifed # of cubes\n            for (var w = 0; w < widthX; w++){\n                for (var h = 0; h < heightY; h++){\n                    for (var d = 0; d < depthZ; d++){\n                       this.createCube( (startX + w), (startY + h), (startZ + d), 0, attachTo);\n                    }\n                }\n            }\n        }\n        \n        /**\n         * Add a cubeamid object H in cubes\n         * \n         * @method createCubeamid\n         * @return void\n         */\n        public createCubeamid(heightY:number, origin:Vector3, attachTo: THREE.Object3D){\n            // Normalize the level of the first origin\n            origin.add(new Vector3(0, -1, 0));\n            // Loop through and create cubeamid with specifed # of cubes\n            for (var h = 0; h < heightY; h++){\n                this.createCubetangle((heightY - h), 1, (heightY - h), origin.add(new Vector3(0, 1, 0)), attachTo);\n            }\n        }\n        \n        /**\n         * Create a sphere to use as a projectile\n         *\n         * @method createProjectile\n         * @return void\n         */\n        public createProjectile(posX: number, posY:number, posZ:number, \n                          attachTo: THREE.Object3D, launchPower: number = 1, \n                          launchAngle: number =1, launchYaw: number =1): void {\n            var projectileGeometry  = new SphereGeometry(1, 15, 15);\n            var projectileName: string = \"Shot\";\n            var basicProjectileMaterial:LambertMaterial = new LambertMaterial({color:0x464646});\n            \n            var projectilePhysMaterial = Physijs.createMaterial(basicProjectileMaterial, 0.9, 0.2);\n\n            var rogueSphere = new Physijs.SphereMesh(projectileGeometry, projectilePhysMaterial, 1000);\n            rogueSphere.position.set(posX, posY, posZ);\n            \n            createjs.Sound.play(\"projectileFlight\");\n            rogueSphere.name = projectileName;\n            rogueSphere.setCcdMotionThreshold(0.1);\n            rogueSphere.setCcdSweptSphereRadius(0.2);\n            attachTo.add(rogueSphere);\n            rogueSphere.addEventListener('collision', (object) => {\n                console.log(\"I hit\"+object.name);\n                if (object.name === \"standard\") {\n                    createjs.Sound.play(\"standardHit\");\n                    scoreValue += 100;\n                    scoreLabel.text = \"SCORE: \" + scoreValue;\n                    object.material.color= 0x464646;\n                    object.name=\"standard_hitted\";\n                }\n                if (object.name === \"golden\") {\n                    createjs.Sound.play(\"goldenHit\");\n                    scoreValue += 2500;\n                    scoreLabel.text = \"SCORE: \" + scoreValue;\n                    object.material.color = 0xFF0000;\n                    object.name=\"golden_hitted\";\n                }\n            });\n            rogueSphere.applyCentralImpulse(new Vector3( -launchYaw * launchPower*1.1, launchAngle * launchPower, -launchPower));\n        };\n        \n        \n        public createProjectileInQueue(posX: number, posY:number, posZ:number, \n                          attachTo: THREE.Object3D, name: string): Physijs.Mesh {\n            var projectileGeometry  = new SphereGeometry(1, 15, 15);\n            var basicProjectileMaterial:LambertMaterial = new LambertMaterial({color:0x464646});\n            var projectilePhysMaterial = Physijs.createMaterial(basicProjectileMaterial, 0.9, 0.01);\n            var rogueSphere = new Physijs.SphereMesh(projectileGeometry, projectilePhysMaterial, 1000);\n            rogueSphere.position.set(posX, posY, posZ);\n            rogueSphere.name = name; \n            rogueSphere.setCcdMotionThreshold(0.1);\n            rogueSphere.setCcdSweptSphereRadius(0.2);\n            \n            rogueSphere.addEventListener('collision', (object) => {\n                console.log(\"I hit\"+object.name);\n                if (object.name === \"standard\") {\n                    createjs.Sound.play(\"standardHit\");\n                    scoreValue += 100;\n                    scoreLabel.text = \"SCORE: \" + scoreValue;\n                    object.material.color= 0x464646;\n                    object.name=\"standard_hitted\";\n                }\n                if (object.name === \"golden\") {\n                    createjs.Sound.play(\"goldenHit\");\n                    scoreValue += 2500;\n                    scoreLabel.text = \"SCORE: \" + scoreValue;\n                    object.material.color = 0xFF0000;\n                    object.name=\"golden_hitted\";\n                }\n            });\n            attachTo.add(rogueSphere);\n            return rogueSphere;\n        };\n        \n        public shootProjectile(posX: number, posY:number, posZ:number,\n                                launchPower:number,launchAngle:number, launchYaw:number,\n                                rogueSphere: Physijs.Mesh): void {\n            \n            rogueSphere.position.set(posX, posY, posZ);\n            rogueSphere.__dirtyPosition = true;\n            rogueSphere.applyCentralImpulse(new Vector3\n                ( -launchYaw * launchPower, launchAngle * launchPower, -launchPower)\n            );\n              \n        };\n        \n        //LEVEL 2 ASSETS\n        \n         /**\n         *  \n         * Add a platform for level 2 objects to stand on\n         * \n         * @method createPlatform\n         * @return void\n         */\n        public createPlatform(posX: number, posY:number, posZ:number, \n                          radiusTop:number = 5, radiusBottom:number = 5, height:number = 5, edges: number = 3, attachTo: THREE.Object3D): void {\n            var platformGeometry  = new CylinderGeometry(radiusTop, radiusBottom, height, edges);\n            var platformName: string = \"Platform\";\n            var basicCylinderMaterial:LambertMaterial;\n            \n            basicCylinderMaterial = new LambertMaterial({color:0x0000FF});\n\n            var platformPhysMaterial = Physijs.createMaterial(basicCylinderMaterial, 0.8, 0.1);\n\n            var platform = new Physijs.CylinderMesh(platformGeometry, platformPhysMaterial, 0);\n            platform.position.set(posX, posY, posZ);\n            platform.name = platformName;\n            attachTo.add(platform);\n            \n            platform.setAngularFactor(new Vector3(0, 0, 0));\n            platform.setAngularVelocity(new Vector3(0, 0.2, 0));\n            platform.setLinearVelocity(new Vector3(0, 0, 0));\n        }\n        \n    }\n}"],"sourceRoot":"/source/"}